{"version":3,"sources":["components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/fetchImages.js","components/notification/Notification.js","App.js","index.js"],"names":["Button","getImages","className","type","onClick","Loader","color","height","width","Modal","handleKeyDown","e","code","props","closeModal","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","src","largeImageURL","alt","Component","Searchbar","state","inputValue","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","autoComplete","autoFocus","placeholder","onChange","ImageGalleryItem","webformatURL","openModal","ImageGallery","images","map","uuidv4","key","fetchImages","searchQuery","page","apiUrl","axios","get","then","res","data","Notification","message","App","search","error","isLoading","lastPage","moreItems","hits","length","prevState","Math","ceil","totalHits","scrollTo","top","document","documentElement","scrollTop","clientHeight","behavior","catch","finally","getSearchFormSubmit","url","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.33a83e6f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function Button({ getImages }) {\r\n  return (\r\n    <div className=\"inner\">\r\n      <button type=\"button\" className=\"Button\" onClick={getImages}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Spinner from 'react-loader-spinner';\r\n\r\nconst Loader = () => (\r\n  <div className=\"spinner\">\r\n    <Spinner type=\"Oval\" color=\"#3f51b5\" height={50} width={100} />\r\n  </div>\r\n);\r\n\r\nexport default Loader;\r\n","import React, { Component } from 'react';\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.largeImageURL} alt=\"\" className=\"image\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\n\r\nexport default function ImageGalleryItem({\r\n  webformatURL,\r\n  largeImageURL,\r\n  openModal,\r\n}) {\r\n  return (\r\n    <li\r\n      className=\"ImageGalleryItem\"\r\n      onClick={() => {\r\n        openModal(largeImageURL);\r\n      }}\r\n    >\r\n      <img src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport default function ImageGallery({ images, openModal }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({ webformatURL, largeImageURL }) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={uuidv4()}\r\n            webformatURL={webformatURL}\r\n            openModal={openModal}\r\n            largeImageURL={largeImageURL}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nconst key = '18956456-bd9c7bc8d47963449f9d8046d';\r\n\r\nconst fetchImages = (searchQuery, page = 1) => {\r\n  const apiUrl = `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  return axios.get(apiUrl).then(res => res.data);\r\n};\r\n\r\nexport default fetchImages;\r\n","import React from 'react';\r\n\r\nexport default function Notification({ message }) {\r\n  return (\r\n    <div>\r\n      <h2>{message}</h2>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\n\nimport Button from './components/Button/Button';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport fetchImages from './services/fetchImages.js';\nimport Notification from './components/notification/Notification';\n\nclass App extends Component {\n  state = {\n    search: '',\n    images: [],\n    page: 1,\n    error: null,\n    isLoading: false,\n    lastPage: 0,\n    largeImageURL: '',\n    moreItems: true,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.search;\n    const nextQuery = this.state.search;\n\n    if (prevQuery !== nextQuery) {\n      this.getImages();\n    }\n  }\n\n  getImages = () => {\n    this.setState({ isLoading: true });\n\n    fetchImages(this.state.search, this.state.page)\n      .then(data => {\n        if (data.hits.length > 0) {\n          this.setState(prevState => ({\n            images: [...prevState.images, ...data.hits],\n            page: prevState.page + 1,\n            lastPage: Math.ceil(data.totalHits / 12),\n          }));\n\n          if (this.state.page > 2) {\n            window.scrollTo({\n              top:\n                document.documentElement.scrollTop +\n                document.documentElement.clientHeight -\n                180,\n              behavior: 'smooth',\n            });\n          }\n        } else this.setState({ moreItems: false });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  getSearchFormSubmit = value => {\n    this.setState({\n      search: value,\n      images: [],\n      page: 1,\n      error: null,\n      isLoading: false,\n      lastPage: 0,\n      largeImageURL: '',\n      moreItems: true,\n    });\n  };\n\n  openModal = url => {\n    this.setState({ largeImageURL: url });\n  };\n\n  closeModal = () => {\n    this.setState({ largeImageURL: '' });\n  };\n\n  render() {\n    const {\n      images,\n      isLoading,\n      page,\n      lastPage,\n      largeImageURL,\n      moreItems,\n      error,\n    } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.getSearchFormSubmit} />\n        {error && (\n          <Notification message={`Something went wrong: ${error.message}`} />\n        )}\n        {!moreItems && (\n          <Notification message={'Sorry, your images not found :('} />\n        )}\n\n        <ImageGallery images={images} openModal={this.openModal} />\n\n        {isLoading && <Loader />}\n        {lastPage >= page && <Button getImages={this.getImages} />}\n\n        {largeImageURL && (\n          <Modal largeImageURL={largeImageURL} closeModal={this.closeModal} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}